# Шаблон фиксации итогов спринта

## Использование

При завершении спринта/этапа создайте файл `.speckit/tasks/YYYY-MM-sprint-NN-closure.md`
используя этот шаблон.

---

# Фиксация итогов: [НАЗВАНИЕ_ЭТАПА/СПРИНТА]

## Контекст
[Краткое описание проекта - 2-3 строки]

## Что сделано в этом этапе
- [ ] Перечислить выполненные задачи
- [ ] Ключевые решения и почему

---

## Задачи фиксации

### 1. Документация
- [ ] Обновить README.md (актуальное состояние проекта)
- [ ] Обновить/создать CHANGELOG.md (что изменилось)
- [ ] Проверить/дополнить docs/ (ARCHITECTURE.md, API.md)
- [ ] Актуализировать комментарии в коде

### 2. Код и структура
- [ ] Удалить мёртвый код и неиспользуемые файлы
- [ ] Проверить TODO/FIXME - закрыть или задокументировать
- [ ] Убедиться что .env.example актуален
- [ ] Проверить requirements.txt / package.json на лишние зависимости

### 3. Git hygiene
- [ ] Удалить merged ветки (локально и remote)
- [ ] Проверить .gitignore (нет ли лишнего в репо)
- [ ] Создать тег версии если milestone
- [ ] Squash мелких коммитов если нужно

### 4. AI-контекст (SpecKit / .cursorrules)
- [ ] Обновить constitution.md (принципы, ограничения)
- [ ] Добавить specs/ для новых фич
- [ ] Обновить .cursorrules если изменились конвенции
- [ ] Проверить что context7 MCP актуален

### 5. Технический долг
- [ ] Список известных багов/ограничений
- [ ] Что отложено на потом и почему
- [ ] Оценка критичности (high/medium/low)

### 6. Тесты и CI/CD (если применимо)
- [ ] Покрытие критических путей
- [ ] Актуальность фикстур
- [ ] Работоспособность пайплайнов

---

## Следующий этап
- [ ] Приоритет 1: ...
- [ ] Приоритет 2: ...
- [ ] Приоритет 3: ...
- [ ] Блокеры если есть: ...

---

## Команды для выполнения

```bash
# === Git cleanup ===

# Удалить локальные merged ветки
git branch --merged | grep -v main | grep -v develop | xargs git branch -d

# Удалить remote tracking для удалённых веток
git remote prune origin

# Посмотреть все ветки
git branch -a

# === Версионирование ===

# Создать тег
git tag -a v[X.Y.Z] -m "[описание версии]"
git push origin v[X.Y.Z]

# Посмотреть теги
git tag -l

# === Проверка репозитория ===

# Найти большие файлы
find . -type f -size +1M | grep -v .git

# Найти TODO/FIXME
grep -r "TODO\|FIXME" --include="*.py" --include="*.js" --include="*.ts"

# Проверить что в .gitignore
git status --ignored
```

---

## Чек-лист перед закрытием этапа

- [ ] README отражает текущее состояние
- [ ] Нет закомментированного кода
- [ ] Нет хардкода секретов
- [ ] .env.example содержит все переменные
- [ ] Все PR смержены или закрыты с комментарием
- [ ] Тег версии создан
- [ ] Бэкап если нужен

---

## Ожидаемый результат

Репозиторий в состоянии, когда:
1. Новый разработчик поймёт проект за 15 минут по README
2. AI-агент (Claude Code/Cursor) имеет полный контекст через SpecKit
3. Нет мусора, мёртвого кода, забытых веток
4. Ясно что сделано, что в процессе, что дальше

---

## Заметки по этапу
[Свободное поле для важных наблюдений, ссылок, контактов]
